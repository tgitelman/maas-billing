# RBAC for Perses to query OpenShift Prometheus
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: perses-sa
  labels:
    app: perses
    app.kubernetes.io/part-of: maas-observability
---
# ClusterRoleBinding to allow Perses to query Prometheus metrics
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: perses-cluster-monitoring-view
  labels:
    app: perses
    app.kubernetes.io/part-of: maas-observability
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: cluster-monitoring-view
subjects:
  - kind: ServiceAccount
    name: perses-sa
    namespace: maas-api

