apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: maas-perses
  annotations:
    config.kubernetes.io/local-config: "true"

namespace: maas-api

resources:
  # Perses instance and configuration
  - perses-rbac.yaml
  - perses-instance.yaml
  - perses-datasource.yaml
  - route.yaml
  # Dashboards
  - dashboards/dashboard-ai-engineer.yaml
  - dashboards/dashboard-platform-admin.yaml
  # Note: UIPlugin (uiplugin.yaml) is applied separately as it's cluster-scoped

labels:
  - pairs:
      app.kubernetes.io/managed-by: maas-observability
      app.kubernetes.io/component: perses
    includeSelectors: false

